<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">    <link rel="stylesheet" href="todo.css">

    <title>Document</title>
</head>
<body>
    
    <div id="myList">
        <div id="listTitle">
            <h2>To Do 리스트</h2>
        </div>
        <input type="text" id="toDo" placeholder=" 할 일을 입력하시오."><br>
        <div id="buttonLayout">
            <button id="addList">추가</button>
            <button id="reset">전체삭제</button>
        </div>
        <!-- 리스트 출력할 공간 -->
        <div id="toDoList">
            <ul id="todo-list"></ul>
        </div>

    </div>

    <script>
        // 체크 줄긋기 추가 수정중

        document.getElementById('addList').addEventListener('click', function() {
            var toDoList = document.getElementById('todo-list')
            var toDoItem = document.getElementById('toDo').value
            if (toDoItem !== "") {
                const newItem = document.createElement('li');

                // 채크박스로 줄긋기
                var checkBox = document.createElement('input');
                checkBox.type = 'checkbox'
                checkBox.addEventListener('change', (event) => {
                    console.log(textSpan)
                    if (event.target.checked) {
                        textSpan.style.textDecoration = 'line-through';
                    } else {
                        textSpan.style.textDecoration = 'none'
                    }
                });
                newItem.appendChild(checkBox)    
                
                // 텍스트 부분 node 구성
                var textSpan = document.createElement('span')
                var textNode = document.createTextNode(toDoItem);
                textSpan.appendChild(textNode);
                newItem.appendChild(textSpan);
                console.log("추가하는 텍스트&스타일",textSpan, textSpan.style)                
                toDoList.appendChild(newItem); // 아이템 child로 추가
                
                // 입력된 글자 입력컬럼 초기화 
                document.getElementById('toDo').value = ""
                

                // 삭제버튼 추가 
                var deleteButton = document.createElement('button');
                deleteButton.textContent = '삭제';
                deleteButton.addEventListener('click', function(){
                    toDoList.removeChild(newItem)  
                });
                newItem.appendChild(deleteButton);
            }
        });

        // 전체삭제
        document.getElementById('reset').addEventListener('click', function() {
            var toDoList = document.getElementById('todo-list'); // Corrected ID here
            toDoList.innerHTML = ''; // Clearing the list content
        })
        
    </script>
</body>
</html>